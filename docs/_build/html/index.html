
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Edamame &#8212; Edamame 0.48 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/flasky.css" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="edamame" href="modules.html" />
     
    
    <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head><body>
    
    <div class=indexwrapper>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="modules.html" title="edamame"
             accesskey="N">next</a> |</li>
        <li class="nav-item nav-item-0"><a href="#">Edamame 0.48 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Edamame</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="edamame">
<h1>Edamame<a class="headerlink" href="#edamame" title="Permalink to this headline">¶</a></h1>
<p>Edamame is inspired by packages such as <a class="reference external" href="https://github.com/ydataai/pandas-profiling">pandas-profiling</a>, <a class="reference external" href="https://github.com/pycaret/pycaret">pycaret</a>, and <a class="reference external" href="https://github.com/DistrictDataLabs/yellowbrick">yellowbrick</a>. The goal of Edamame is to provide user-friendly functions for conducting exploratory data analysis (EDA) on datasets, as well as for training and analyzing batteries of models for regression or classification problems.</p>
<p>To install the package,</p>
<p><code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">edamame</span></code></p>
<p>the edamame package works correctly inside a jupyter-notebook.</p>
</section>
<section id="edamame-functionalities">
<h1>Edamame functionalities<a class="headerlink" href="#edamame-functionalities" title="Permalink to this headline">¶</a></h1>
<p>The package consists of three modules: eda, which performs exploratory data analysis; and regressor and classifier, which handle the training of machine learning models for regression and classification, respectively. To see examples of the uses of the edamame package, you can check out the <a class="reference external" href="https://github.com/marcosalvalaggio/edamame-notebooks">edamame-notebook</a> repository.</p>
<section id="eda-module">
<h2>Eda module<a class="headerlink" href="#eda-module" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">edamame.eda</span> <span class="k">as</span> <span class="nn">eda</span>
</pre></div>
</div>
<p>The <strong>eda</strong> module provides a wide range of functions for performing exploratory data analysis (EDA) on datasets. With this module you can easily explore and manipulate your data, conduct descriptive statistics, correlation analysis, and prepare your data for machine learning. The “eda” module offers the following functionalities:</p>
<ul>
<li><p>Data Exploration and Manipulation functions:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>dimensions</strong>: The function displays the number of rows and columns of a pandas dataframe passed.</p></li>
<li><p><strong>identify_types</strong>: Identify the data types of each column.</p></li>
<li><p><strong>view_cardinality</strong>: View the number of unique values in each categorical column.</p></li>
<li><p><strong>modify_cardinality</strong>: Modify the number of unique values in a column.</p></li>
<li><p><strong>missing</strong>: Check if any missing data is present in the dataset.</p></li>
<li><p><strong>handling_missing</strong>: Replace or remove missing values in the dataset.</p></li>
<li><p><strong>drop_columns</strong>: Remove specific columns from the dataset.</p></li>
<li><p><strong>num_to_categorical</strong>: The function returns a dataframe with the columns transformed into an “object”.</p></li>
<li><p><strong>interaction</strong>: The function display an interactive plot for analysing relationships between numerical columns with a scatterplot.</p></li>
<li><p><strong>inspection</strong>: The function displays an interactive plot for analysing the distribution of a variable based on the distinct cardinalities of the target variable.</p></li>
<li><p><strong>split_and_scaling</strong>: The function returns two pandas dataframes: the regressor matrix X contains all the predictors for the model, the series y contains the values of the response variable.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Descriptive Statistics functions:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>describe_distribution</strong>: The function display the result of the describe() method applied to a pandas dataframe, divided by numerical and object columns.</p></li>
<li><p><strong>plot_categorical</strong>: The function returns a sequence of tables and plots for the categorical variables.</p></li>
<li><p><strong>plot_numerical</strong>:  The function returns a sequence of tables and plots for the numerical variables.</p></li>
<li><p><strong>num_variable_study</strong>: he function displays the following transformations of the variable col passed: log(x), sqrt(x), x^2, Box-cox, 1/x.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Correlation Analysis functions:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>correlation_pearson</strong>: The function performs the Pearson’s correlation between the columns pairs.</p></li>
<li><p><strong>correlation_categorical</strong>: The function performs the Chi-Square Test of Independence between categorical variables of the dataset.</p></li>
<li><p><strong>correlation_phik</strong>: Calculate the Phik correlation coefficient between all pairs of columns (<a class="reference external" href="https://arxiv.org/pdf/1811.11440.pdf">Paper link</a>).</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Useful functions:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>load_model</strong>: The function load the model saved in the pickle format.</p></li>
<li><p><strong>setup</strong>: The function returns the following elements: X_train, y_train, X_test, y_test.</p></li>
<li><p><strong>scaling</strong>: The function returns the normalised/standardized matrix.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</section>
<section id="regressor-module">
<h2>Regressor module<a class="headerlink" href="#regressor-module" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">edamame.regressor</span> <span class="kn">import</span> <span class="n">TrainRegressor</span><span class="p">,</span> <span class="n">regression_metrics</span>
</pre></div>
</div>
<p>The TrainRegressor class is designed to be used as a pipeline for training and handling regression models.</p>
<p>The class provides several methods for fitting different regression models, computing model metrics, saving and loading models, and using AutoML to select the best model based on performance metrics. These methods include:</p>
<ul class="simple">
<li><p><strong>linear</strong>: Fits a linear regression model to the training data.</p></li>
<li><p><strong>lasso</strong>: Fits a Lasso regression model to the training data.</p></li>
<li><p><strong>ridge</strong>: Fits a Ridge regression model to the training data.</p></li>
<li><p><strong>tree</strong>: Fits a decision tree regression model to the training data.</p></li>
<li><p><strong>random_forest</strong>: Fits a random forest regression model to the training data.</p></li>
<li><p><strong>xgboost</strong>: Fits an XGBoost regression model to the training data.</p></li>
<li><p><strong>auto_ml</strong>: Uses AutoML to select the best model based on performance metrics.</p></li>
<li><p><strong>model_metrics</strong>: Computes and prints the performance metrics for each trained model.</p></li>
<li><p><strong>save_model</strong>: Saves the trained model to a file.</p></li>
</ul>
<p>After saving a model with the <strong>save_model</strong> method, we can upload the model using the <strong>load_model</strong> function of the eda module and evaluate its performance on new data using the <strong>regression_metrics</strong> function.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">edamame.regressor</span> <span class="kn">import</span> <span class="n">RegressorDiagnose</span>
</pre></div>
</div>
<p>The RegressorDiagnose class is designed to diagnose regression models and analyze their performance.
The class provides several methods for diagnosing and analyzing the performance of regression models. These methods include:</p>
<ul class="simple">
<li><p><strong>coefficients</strong>: Computes and prints the coefficients of the regression model.</p></li>
<li><p><strong>random_forest_fi</strong>: Displays the feature importance plot for the random forest regression model.</p></li>
<li><p><strong>random_forest_fi</strong>: Displays the feature importance plot for the xgboost regression model.</p></li>
<li><p><strong>prediction_error</strong>: Computes and prints the prediction error of the regression model on the test data.</p></li>
<li><p><strong>residual_plot</strong>: creates and displays a residual plot for the regression model.</p></li>
<li><p><strong>qqplot</strong>: creates and displays a QQ plot for the regression model.</p></li>
</ul>
<section id="example">
<h3>Example:<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">make_regression</span>
<span class="kn">from</span> <span class="nn">edamame.regressor</span> <span class="kn">import</span> <span class="n">TrainRegressor</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">edamame.eda</span> <span class="k">as</span> <span class="nn">eda</span>
<span class="kn">from</span> <span class="nn">edamame.regressor</span> <span class="kn">import</span> <span class="n">RegressorDiagnose</span>
<span class="n">X</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">make_regression</span><span class="p">(</span><span class="n">n_samples</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">n_features</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">n_targets</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;f1&quot;</span><span class="p">,</span> <span class="s2">&quot;f2&quot;</span><span class="p">,</span> <span class="s2">&quot;f3&quot;</span><span class="p">,</span> <span class="s2">&quot;f4&quot;</span><span class="p">,</span> <span class="s2">&quot;f5&quot;</span><span class="p">])</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;y&quot;</span><span class="p">])</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">eda</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="n">X_train_s</span> <span class="o">=</span> <span class="n">eda</span><span class="o">.</span><span class="n">scaling</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>
<span class="n">X_test_s</span> <span class="o">=</span> <span class="n">eda</span><span class="o">.</span><span class="n">scaling</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
<span class="n">regressor</span> <span class="o">=</span> <span class="n">TrainRegressor</span><span class="p">(</span><span class="n">X_train_s</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">X_test_s</span><span class="p">,</span> <span class="n">y_test</span><span class="p">)</span>
<span class="n">rf</span> <span class="o">=</span> <span class="n">regressor</span><span class="o">.</span><span class="n">random_forest</span><span class="p">()</span>
<span class="n">regressor</span><span class="o">.</span><span class="n">model_metrics</span><span class="p">()</span>
<span class="n">diagnose</span> <span class="o">=</span> <span class="n">RegressorDiagnose</span><span class="p">(</span><span class="n">X_train_s</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">X_test_s</span><span class="p">,</span> <span class="n">y_test</span><span class="p">)</span>
<span class="n">diagnose</span><span class="o">.</span><span class="n">random_forest_fi</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="n">rf</span><span class="p">)</span>
<span class="n">diagnose</span><span class="o">.</span><span class="n">prediction_error</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="n">rf</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="classifier-module">
<h2>Classifier module<a class="headerlink" href="#classifier-module" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">edamame.classifier</span> <span class="kn">import</span> <span class="n">TrainClassifier</span>
</pre></div>
</div>
<p>The TrainClassifier class is designed to be used as a pipeline for training and handling clasification models.</p>
<p>The class provides several methods for fitting different regression models, computing model metrics, saving and loading models, and using AutoML to select the best model based on performance metrics. These methods include:</p>
<ul class="simple">
<li><p><strong>logistic</strong>: Fits a logistic model to the training data.</p></li>
<li><p><strong>gaussian_nb</strong>: Fits a Gaussina Naive Bayes model to the training data.</p></li>
<li><p><strong>knn</strong>: Fits a k-Nearest Neighbors classification model to the training data.</p></li>
<li><p><strong>tree</strong>: Fits a decision tree classification model to the training data.</p></li>
<li><p><strong>random_forest</strong>: Fits a random forest classification model to the training data.</p></li>
<li><p><strong>xgboost</strong>: Fits an XGBoost classification model to the training data.</p></li>
<li><p><strong>svm</strong>: Fits an Support Vector classification model to the training data.</p></li>
<li><p><strong>auto_ml</strong>: Uses AutoML to select the best model based on performance metrics.</p></li>
<li><p><strong>model_metrics</strong>: Computes and prints the performance metrics for each trained model.</p></li>
<li><p><strong>save_model</strong>: Saves the trained model to a file.</p></li>
</ul>
<p>After saving a model with the <strong>save_model</strong> method, we can upload the model using the <strong>load_model</strong> function of the eda module and evaluate its performance on new data using the <strong>classifier_metrics</strong> function.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">edamame.classifier</span> <span class="kn">import</span> <span class="n">classifier_metrics</span>
</pre></div>
</div>
<section id="id1">
<h3>Example:<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">edamame.classifier</span> <span class="kn">import</span> <span class="n">TrainClassifier</span>
<span class="kn">from</span> <span class="nn">sklearn</span> <span class="kn">import</span> <span class="n">datasets</span>
<span class="kn">import</span> <span class="nn">edamame.eda</span> <span class="k">as</span> <span class="nn">eda</span>
<span class="n">iris</span> <span class="o">=</span> <span class="n">datasets</span><span class="o">.</span><span class="n">load_iris</span><span class="p">()</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">iris</span><span class="o">.</span><span class="n">data</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">iris</span><span class="o">.</span><span class="n">feature_names</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">iris</span><span class="o">.</span><span class="n">target</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">])</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">eda</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
<span class="n">X_train_s</span> <span class="o">=</span> <span class="n">eda</span><span class="o">.</span><span class="n">scaling</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>
<span class="n">X_test_s</span> <span class="o">=</span> <span class="n">eda</span><span class="o">.</span><span class="n">scaling</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
<span class="n">classifier</span> <span class="o">=</span> <span class="n">TrainClassifier</span><span class="p">(</span><span class="n">X_train_s</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">X_test_s</span><span class="p">,</span> <span class="n">y_test</span><span class="p">)</span>
<span class="n">svm</span> <span class="o">=</span> <span class="n">classifier</span><span class="o">.</span><span class="n">svm</span><span class="p">()</span>
<span class="n">classifier</span><span class="o">.</span><span class="n">model_metrics</span><span class="p">(</span><span class="n">model_name</span><span class="o">=</span><span class="s2">&quot;svm&quot;</span><span class="p">)</span>
<span class="n">classifier</span><span class="o">.</span><span class="n">save_model</span><span class="p">(</span><span class="n">model_name</span><span class="o">=</span><span class="s2">&quot;svm&quot;</span><span class="p">)</span>
<span class="n">svm_upload</span> <span class="o">=</span> <span class="n">eda</span><span class="o">.</span><span class="n">load_model</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="s2">&quot;svm.pkl&quot;</span><span class="p">)</span>
<span class="n">classifier_metrics</span><span class="p">(</span><span class="n">svm_upload</span><span class="p">,</span> <span class="n">X_train_s</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="todos">
<h2>Todos<a class="headerlink" href="#todos" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Add the ClassifierDiagnose class to the classifier module.</p></li>
<li><p>Add the notebook for EDA in a classification problem to the edamame-notebook repository.</p></li>
<li><p>Add the notebook for training/diagnosing classification models to the edamame-notebook repository.</p></li>
</ul>
<div class="toctree-wrapper compound">
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="modules.html">edamame</a><ul>
<li class="toctree-l2"><a class="reference internal" href="edamame.html">edamame package</a></li>
<li class="toctree-l2"><a class="reference internal" href="edamame.eda.html">edamame.eda</a></li>
<li class="toctree-l2"><a class="reference internal" href="edamame.regressor.html">edamame.regressor</a></li>
<li class="toctree-l2"><a class="reference internal" href="edamame.classifier.html">edamame.classifier</a></li>
</ul>
</li>
</ul>
</div>
</section>
</section>
<section id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="#">
              <img class="logo" src="_static/logo.png" alt="Logo"/>
            </a></p>
  <div>
    <h3><a href="#">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Edamame</a></li>
<li><a class="reference internal" href="#edamame-functionalities">Edamame functionalities</a><ul>
<li><a class="reference internal" href="#eda-module">Eda module</a></li>
<li><a class="reference internal" href="#regressor-module">Regressor module</a><ul>
<li><a class="reference internal" href="#example">Example:</a></li>
</ul>
</li>
<li><a class="reference internal" href="#classifier-module">Classifier module</a><ul>
<li><a class="reference internal" href="#id1">Example:</a></li>
</ul>
</li>
<li><a class="reference internal" href="#todos">Todos</a></li>
</ul>
</li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
</ul>

  </div><h3>Related Topics</h3>
<ul>
  <li><a href="#">Documentation overview</a><ul>
      <li>Next: <a href="modules.html" title="next chapter">edamame</a></li>
  </ul></li>
</ul>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/index.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>


    
    <div class="footer" role="contentinfo">
        &#169; Copyright 2023, Marco Salvalaggio.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.4.0.
    </div>
    </div>

  </body>
</html>